@import "tailwindcss";

/* -------------------------------------------------------------------------- */
/* 1. CSS Variables for Theming (Light Mode Default) */
/* -------------------------------------------------------------------------- */
:root {
    --color-primary-rgb: 94, 63, 226; /* Indigo-600 */
    --color-primary: rgb(var(--color-primary-rgb));

    /* Light Mode */
    --color-bg-rgb: 243, 244, 246; /* gray-100 - Page background */
    --color-surface-rgb: 255, 255, 255; /* white - Card/Sidebar background */
    --color-text-main-rgb: 31, 41, 55; /* gray-800 */
    --color-text-secondary-rgb: 107, 114, 128; /* gray-500 */
    --color-border-rgb: 229, 231, 235; /* gray-200 */
    --color-hover-bg-rgb: 238, 242, 255; /* indigo-50 */
    --color-placeholder-bg-rgb: 229, 231, 235; /* gray-200 */
    --color-liked-rgb: 239, 68, 68; /* red-500 */
}

/* -------------------------------------------------------------------------- */
/* 2. Dark Mode Overrides */
/* -------------------------------------------------------------------------- */
[data-theme="dark"] {
    --color-bg-rgb: 18, 18, 18;
    --color-surface-rgb: 31, 41, 55;
    --color-text-main-rgb: 229, 231, 235;
    --color-text-secondary-rgb: 156, 163, 175;
    --color-border-rgb: 55, 65, 81;
    --color-hover-bg-rgb: 55, 65, 81;
    --color-placeholder-bg-rgb: 55, 65, 81;
    --color-liked-rgb: 252, 165, 165;
}

/* Applying Variables to Tailwind Classes */
.bg-bg {
    background-color: rgb(var(--color-bg-rgb));
}
.bg-surface {
    background-color: rgb(var(--color-surface-rgb));
}
.text-main {
    color: rgb(var(--color-text-main-rgb));
}
.text-secondary {
    color: rgb(var(--color-text-secondary-rgb));
}
.bg-hover-bg {
    background-color: rgb(var(--color-hover-bg-rgb));
}
.border-app {
    border-color: rgb(var(--color-border-rgb));
}
.bg-placeholder-bg {
    background-color: rgb(var(--color-placeholder-bg-rgb));
}
.bg-liked {
    background-color: rgb(var(--color-liked-rgb));
}

/* Custom Colors for Primary/Accent */
.text-primary {
    color: var(--color-primary);
}
.bg-primary {
    background-color: var(--color-primary);
}
.border-primary {
    border-color: var(--color-primary);
}
.fill-primary {
    fill: var(--color-primary);
}

/* Custom Styles for Interactive Elements */
.liked-active {
    color: rgb(var(--color-liked-rgb)) !important;
    fill: rgb(var(--color-liked-rgb)) !important;
}

/* Modal Backdrop */
.modal-backdrop {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 50;
    display: none;
    /* Use grid for perfect centering */
    place-items: center;
    padding: 1rem;
    overflow-y: auto;
}

.modal-backdrop.active {
    display: grid;
}

/* -------------------------------------------------------------------------- */
/* 3. Custom Modal Transition (Mobile Slide Up) */
/* -------------------------------------------------------------------------- */
.modal-backdrop {
    /* Ensures proper centering regardless of screen size */
    display: none;
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 50;
    overflow-y: auto;
    align-items: center;
    justify-content: center;
}

.modal-backdrop.active {
    display: flex;
}

.modal-container {
    /* Desktop/Default appearance */
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    transform: scale(1);
    opacity: 1;
}

/* Mobile Slide-up Animation for Create Post Modal (FAB click) */
@media (max-width: 767px) {
    #createPostModal.modal-backdrop.active .modal-container {
        /* Start off-screen */
        transform: translateY(100%);
        opacity: 0;
    }

    #createPostModal.modal-backdrop.active.mobile-launch .modal-container {
        /* Slide up to final position */
        transform: translateY(0);
        opacity: 1;
    }
}

/* -------------------------------------------------------------------------- */
/* 4. FAB Rotation Animation */
/* -------------------------------------------------------------------------- */
#fab-mobile .lucide {
    transition: transform 0.3s
        ease-out; /* Smooth transition for the icon itself */
}

#fab-mobile.rotate-active .lucide {
    transform: rotate(45deg); /* Rotate 45 degrees when active */
}

/* Ensure transitions are smooth */
* {
    transition-property:
        background-color,
        border-color,
        color,
        fill,
        opacity,
        box-shadow,
        transform;
    transition-duration: 300ms;
}
